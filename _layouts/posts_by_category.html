---
layout: default
---
<header class="post-header">
  <h1 class="post-title">Articles by category: {{ page.title }}</h1>
</header>

<div class="post-content">
    <hr />
    {% for category in site.categories %}
        {% if page.name == category.name %}
            <button class="btn btn-sm btn-default active">{{ category.title }}</button>
        {% else %}
            <a href="{{ site.baseurl }}/category/{{ category.name }}" class="btn btn-sm btn-default">{{ category.title }}</a>
        {% endif %}
    {% endfor %}
    <hr />
    {% assign postExist = false %}
    {% for post in site.posts %}
        {% if post.categories contains page.name %}
            {% capture post_year %}{{ post.date | date: '%Y' }}{% endcapture %}
            {% unless postExist %}
                <h4>{{ post_year }}</h4>
                <div class="list-group">
                    <ul class="posts">
                {% assign postExist = true %}
            {% endunless %}

            {% if forloop.first == false %}
                {% assign previous_index = forloop.index0 | minus: 1 %}
                {% capture previous_post_year %}{{ site.posts[previous_index].date | date: '%Y' }}{% endcapture %}

                {% if post_year != previous_post_year %}
                        </ul>
                    </div>
                    <h4>{{ post_year }}</h4>
                    <div class="list-group">
                        <ul class="posts">
                {% endif %}
            {% endif %}
            {% include post_link.html %}
            {% if forloop.last %}
                    </ul>
                </div>
            {% endif %}
        {% endif %}
    {% endfor %}
    {% unless postExist %}
        <p>There are no posts in this category.</p>
    {% endunless %}
</div>
